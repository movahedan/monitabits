/**
* Generated by Kubb (https://kubb.dev/).
* Do not edit manually.
*/

import fetch from "../../../mutator";
import useSWR from "swr";
import type { RequestConfig, ResponseErrorConfig } from "../../../mutator";
import type { SessionsControllerGetCurrentSessionQueryResponse, SessionsControllerGetCurrentSession400 } from "../../types/SessionsControllerGetCurrentSession";

export const sessionsControllerGetCurrentSessionQueryKey = () => [{ url: '/api/sessions/current' }] as const

export type SessionsControllerGetCurrentSessionQueryKey = ReturnType<typeof sessionsControllerGetCurrentSessionQueryKey>

/**
 * @description Returns the current active or locked session status along with user statistics.If no active session exists, the session field will be null.Includes user stats like total time saved, current streak, and last relapse.
 * @summary Get current session status
 * {@link /api/sessions/current}
 */
export async function sessionsControllerGetCurrentSession(config: Partial<RequestConfig> & { client?: typeof fetch } = {}) {
  const { client: request = fetch, ...requestConfig } = config  
  
  const res = await request<SessionsControllerGetCurrentSessionQueryResponse, ResponseErrorConfig<SessionsControllerGetCurrentSession400>, unknown>({ method : "GET", url : `/api/sessions/current`, ... requestConfig })  
  return res.data
}

export function sessionsControllerGetCurrentSessionQueryOptions(config: Partial<RequestConfig> & { client?: typeof fetch } = {}) {
  return {
    fetcher: async () => {
      return sessionsControllerGetCurrentSession(config)
    },
  }
}

/**
 * @description Returns the current active or locked session status along with user statistics.If no active session exists, the session field will be null.Includes user stats like total time saved, current streak, and last relapse.
 * @summary Get current session status
 * {@link /api/sessions/current}
 */
export function useSessionsControllerGetCurrentSession(options: 
{
  query?: Parameters<typeof useSWR<SessionsControllerGetCurrentSessionQueryResponse, ResponseErrorConfig<SessionsControllerGetCurrentSession400>>>[2],
  client?: Partial<RequestConfig> & { client?: typeof fetch },
  shouldFetch?: boolean,
  immutable?: boolean
}
 = {}) {
  const { query: queryOptions, client: config = {}, shouldFetch = true, immutable } = options ?? {}

  const queryKey = sessionsControllerGetCurrentSessionQueryKey()

  return useSWR<SessionsControllerGetCurrentSessionQueryResponse, ResponseErrorConfig<SessionsControllerGetCurrentSession400>, SessionsControllerGetCurrentSessionQueryKey | null>(
   shouldFetch ? queryKey : null,
   {
     ...sessionsControllerGetCurrentSessionQueryOptions(config),
     ...(immutable ? {
         revalidateIfStale: false,
         revalidateOnFocus: false,
         revalidateOnReconnect: false
       } : { }),
     ...queryOptions
   }
  )
}