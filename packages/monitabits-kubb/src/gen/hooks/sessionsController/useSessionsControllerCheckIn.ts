/**
* Generated by Kubb (https://kubb.dev/).
* Do not edit manually.
*/

import fetch from "../../../mutator";
import useSWRMutation from "swr/mutation";
import type { RequestConfig, ResponseErrorConfig } from "../../../mutator";
import type { SessionsControllerCheckInMutationResponse, SessionsControllerCheckIn400 } from "../../types/SessionsControllerCheckIn";
import type { SWRMutationConfiguration } from "swr/mutation";

export const sessionsControllerCheckInMutationKey = () => [{ url: '/api/sessions/check-in' }] as const

export type SessionsControllerCheckInMutationKey = ReturnType<typeof sessionsControllerCheckInMutationKey>

/**
 * @description Creates a check-in record when the app is opened or synced.This is used for auto-save functionality and activity tracking.The server handles timezone calculations internally.
 * @summary Create a check-in
 * {@link /api/sessions/check-in}
 */
export async function sessionsControllerCheckIn(config: Partial<RequestConfig> & { client?: typeof fetch } = {}) {
  const { client: request = fetch, ...requestConfig } = config  
  
  const res = await request<SessionsControllerCheckInMutationResponse, ResponseErrorConfig<SessionsControllerCheckIn400>, unknown>({ method : "POST", url : `/api/sessions/check-in`, ... requestConfig })  
  return res.data
}

/**
 * @description Creates a check-in record when the app is opened or synced.This is used for auto-save functionality and activity tracking.The server handles timezone calculations internally.
 * @summary Create a check-in
 * {@link /api/sessions/check-in}
 */
export function useSessionsControllerCheckIn(options: 
{
  mutation?: SWRMutationConfiguration<SessionsControllerCheckInMutationResponse, ResponseErrorConfig<SessionsControllerCheckIn400>, SessionsControllerCheckInMutationKey | null, never> & { throwOnError?: boolean },
  client?: Partial<RequestConfig> & { client?: typeof fetch },
  shouldFetch?: boolean,
}
 = {}) {
  const { mutation: mutationOptions, client: config = {}, shouldFetch = true } = options ?? {}
  const mutationKey = sessionsControllerCheckInMutationKey()

  return useSWRMutation<SessionsControllerCheckInMutationResponse, ResponseErrorConfig<SessionsControllerCheckIn400>, SessionsControllerCheckInMutationKey | null>(
    shouldFetch ? mutationKey : null,
    async (_url) => {
      return sessionsControllerCheckIn(config)
    },
    mutationOptions
  )
}